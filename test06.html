<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <script type="text/javascript">
    const data = {
      itemList: [
        {
          itemNo: 1,
          itemId: 493731,
          questionFormCode: '50',
          questionFormName: '5지 선택',
          difficultyCode: '03',
          difficultyName: '중',
          largeChapterId: 115901,
          largeChapterName: '1. 문학의 샘',
          mediumChapterId: 11590101,
          mediumChapterName: '(1) 문학의 다양한 해석',
          smallChapterId: 1159010101,
          smallChapterName: '청포도',
          topicChapterId: 115901010102,
          topicChapterName: '작품의 내용',
          passageId: 24228,
          passageUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/passage/24228/24228_2023-12-22.svg',
          questionUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/question/493731/493731_2023-10-13.svg',
          answerUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/answer/493731/493731_2023-10-13.svg',
          explainUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/explain/493731/493731_2023-10-13.svg',
        },
        {
          itemNo: 2,
          itemId: 493732,
          questionFormCode: '50',
          questionFormName: '5지 선택',
          difficultyCode: '03',
          difficultyName: '중',
          largeChapterId: 115901,
          largeChapterName: '1. 문학의 샘',
          mediumChapterId: 11590101,
          mediumChapterName: '(1) 문학의 다양한 해석',
          smallChapterId: 1159010101,
          smallChapterName: '청포도',
          topicChapterId: 115901010102,
          topicChapterName: '작품의 내용',
          passageId: 24228,
          passageUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/passage/24228/24228_2023-12-22.svg',
          questionUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/question/493732/493732_2023-10-13.svg',
          answerUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/answer/493732/493732_2023-10-13.svg',
          explainUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/explain/493732/493732_2023-10-13.svg',
        },
        {
          itemNo: 3,
          itemId: 521051,
          questionFormCode: '50',
          questionFormName: '5지 선택',
          difficultyCode: '03',
          difficultyName: '중',
          largeChapterId: 115901,
          largeChapterName: '1. 문학의 샘',
          mediumChapterId: 11590101,
          mediumChapterName: '(1) 문학의 다양한 해석',
          smallChapterId: 1159010101,
          smallChapterName: '청포도',
          topicChapterId: 115901010102,
          topicChapterName: '작품의 내용',
          passageId: 25265,
          passageUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/passage/25265/25265_2023-12-19.svg',
          questionUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/question/521051/521051_2023-10-13.svg',
          answerUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/answer/521051/521051_2023-10-13.svg',
          explainUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/explain/521051/521051_2023-10-13.svg',
        },
        {
          itemNo: 4,
          itemId: 521260,
          questionFormCode: '50',
          questionFormName: '5지 선택',
          difficultyCode: '03',
          difficultyName: '중',
          largeChapterId: 115901,
          largeChapterName: '1. 문학의 샘',
          mediumChapterId: 11590101,
          mediumChapterName: '(1) 문학의 다양한 해석',
          smallChapterId: 1159010101,
          smallChapterName: '청포도',
          topicChapterId: 115901010102,
          topicChapterName: '작품의 내용',
          passageId: 25273,
          passageUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/passage/25273/25273_2023-12-19.svg',
          questionUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/question/521260/521260_2023-10-13.svg',
          answerUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/answer/521260/521260_2023-10-13.svg',
          explainUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/explain/521260/521260_2023-10-13.svg',
        },
        {
          itemNo: 5,
          itemId: 521686,
          questionFormCode: '50',
          questionFormName: '5지 선택',
          difficultyCode: '03',
          difficultyName: '중',
          largeChapterId: 115901,
          largeChapterName: '1. 문학의 샘',
          mediumChapterId: 11590101,
          mediumChapterName: '(1) 문학의 다양한 해석',
          smallChapterId: 1159010101,
          smallChapterName: '청포도',
          topicChapterId: 115901010102,
          topicChapterName: '작품의 내용',
          passageId: 25279,
          passageUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/passage/25279/25279_2023-12-19.svg',
          questionUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/question/521686/521686_2023-10-13.svg',
          answerUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/answer/521686/521686_2023-10-13.svg',
          explainUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/explain/521686/521686_2023-10-13.svg',
        },
        {
          itemNo: 6,
          itemId: 521690,
          questionFormCode: '50',
          questionFormName: '5지 선택',
          difficultyCode: '03',
          difficultyName: '중',
          largeChapterId: 115901,
          largeChapterName: '1. 문학의 샘',
          mediumChapterId: 11590101,
          mediumChapterName: '(1) 문학의 다양한 해석',
          smallChapterId: 1159010101,
          smallChapterName: '청포도',
          topicChapterId: 115901010102,
          topicChapterName: '작품의 내용',
          passageId: 25279,
          passageUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/passage/25279/25279_2023-12-19.svg',
          questionUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/question/521690/521690_2023-10-13.svg',
          answerUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/answer/521690/521690_2023-10-13.svg',
          explainUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/explain/521690/521690_2023-10-13.svg',
        },
        {
          itemNo: 7,
          itemId: 521691,
          questionFormCode: '50',
          questionFormName: '5지 선택',
          difficultyCode: '03',
          difficultyName: '중',
          largeChapterId: 115901,
          largeChapterName: '1. 문학의 샘',
          mediumChapterId: 11590101,
          mediumChapterName: '(1) 문학의 다양한 해석',
          smallChapterId: 1159010101,
          smallChapterName: '청포도',
          topicChapterId: 115901010102,
          topicChapterName: '작품의 내용',
          passageId: 25279,
          passageUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/passage/25279/25279_2023-12-19.svg',
          questionUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/question/521691/521691_2023-10-13.svg',
          answerUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/answer/521691/521691_2023-10-13.svg',
          explainUrl:
            'https://img.chunjae-platform.com/upload/capture/tsherpa/explain/521691/521691_2023-10-13.svg',
        },
      ],
    };
    // let pId = [];
    // let qId = {};
    // data.itemList.forEach((element) => {
    //   // 한줄씩 다 찍어낸다
    //   // console.log(element);
    //   // console.log(data.itemList.length);
    //   for (let i = 0; i < data.itemList.length; i++) {
    //     // for 문을 돌면서 passageId를 담은 배열을 출력한다.
    //     pId[i] = data.itemList[i].passageId;
    //   }
    //   // qId 는 pId를 기준으로 itemList를 모두 가진다.
    //   qId[pId] = data.itemList;
    //   console.log(qId);
    //   // console.log(pId);
    // });

    // ---------------------------------------------------------
    // Map 방법이 제일 간단
    // passageId를 키로 하고 해당 passageId에 속하는 itemId들을 배열로 값으로 가지는 객체 생성
    const passageIdMap = {};
    data.itemList.forEach((item) => {
      const { passageId, itemId } = item;
      if (!passageIdMap[passageId]) {
        passageIdMap[passageId] = []; // 새로운 passageId가 등장하면 빈 배열을 생성
      }
      passageIdMap[passageId].push(itemId); // 해당 passageId에 itemId를 추가
    });

    console.log(passageIdMap);
  </script>
  <body></body>
</html>
